\chapter{Evaluation}\label{evaluation}

This chapter focuses on the evaluation of the transfer pipeline. First, the evaluation methods used are introduced. Rank correlation is employed to compare the original relevance assessments with the relevance scores inferred during the pipeline process. Next, the individual steps of the pipeline are analyzed and evaluated to examine intermediate results and identify potential weaknesses. At the end, the final phase of the transfer pipeline is assessed by evaluating the original relevance assessments of the retrieval tasks with the inferred relevance scores produced by the pipeline.

% ================
% Rank Correlation
% ================
\section{Rank Correlation}\label{rank-correlation}

% Unit testing of correlation coefficients
\subsection{Greedy Rank Correlation}\label{greedy-rank-correlation}

\begin{table}[h!]
    \centering
    \caption{
        Unit testing correlation methods for reference scores $[0.2, 0.7, 0.5]$ and three label sets: first two with expected correlation of 1, and last one with lower correlation. Methods include Spearman's $\rho$, Kendall's $\tau$, and Pearson's $r$.
    }
    \begin{tabular}{ccccccc}
        \toprule
        \textbf{Comparative Set} & \multicolumn{3}{c}{\textbf{Default}} & \multicolumn{3}{c}{\textbf{Greedy}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7}
                                 & $\tau$ & $\rho$ & $r$ & $\tau$ & $\rho$ & $r$ \\
        \midrule
        
        $[0, 2, 1]$ & 1.00 & 0.99 & 1.00 & 1.00  & 1.00  & 1.00 \\
        $[0, 1, 1]$ & 0.82 & 0.92 & 0.87 & 1.00  & 1.00  & 1.00 \\
        $[0, 0, 1]$ & 0.00 & 0.11 & 0.00 & 0.50  & 0.50  & 0.50 \\
        \bottomrule
    \end{tabular}
\end{table}

% ==================
% Document Selection
% ==================
\section{Document Selection}\label{eval-doucment-selection}

% ===============
% Passage Scoring
% ===============
\section{Passage Scoring}\label{eval-passage-scoring}

Since this study does not aim to optimize or analyze a specific set of retriever systems but uses them for passage scoring, a diverse selection of models was employed to minimize bias in the scores that could arise from relying on a single model. For that reason \texttt{Precision} and \texttt{nDCG} scores were calculated using the following retriever systems: \texttt{BM25, DFR\_BM25, DFIZ, DLH, DPH, DirichletLM, Hiemstra\_LM, LGD, PL2, and TF\_IDF}. An evaluation of which model best scores the passages in relation to the goal of relevance transfer follows in Chapter~\ref{evaluation}~[\nameref{rank-correlation-passage-scores}].

\begin{table}[h!]
    \centering
    \caption{5-fold cross-validation of the passage scores.}
    \begin{tabular}{lcccccc}
        \toprule
        \textbf{Retrieval Model} & \multicolumn{3}{c}{\textbf{Default}} & \multicolumn{3}{c}{\textbf{Greedy}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7}
                                 & $\tau$ & $\rho$ & $r$ & $\tau$ & $\rho$ & $r$ \\
        \midrule

        BM25         & 0.4968 & 0.5937 & 0.5151 & 0.5463 & 0.5833 & 0.5468 \\
        DFR\_BM25    & 0.5003 & 0.5986 & 0.5246 & 0.5553 & 0.5920 & 0.5585 \\
        DFIZ         & 0.4807 & 0.5716 & 0.4944 & 0.5065 & 0.5389 & 0.5062 \\
        DLH          & 0.5320 & 0.6345 & 0.5647 & 0.5851 & 0.6245 & 0.5935 \\
        DHP          & 0.4617 & 0.5466 & 0.4616 & 0.4926 & 0.5217 & 0.4877 \\
        DirichletLM  & 0.4361 & 0.5083 & 0.3955 & 0.4624 & 0.4881 & 0.4444 \\
        Hiemstra\_LM & 0.5738 & 0.6796 & 0.6043 & 0.6488 & 0.6930 & 0.6596 \\
        LGD          & 0.4975 & 0.5929 & 0.5152 & 0.5458 & 0.5807 & 0.5443 \\
        PL2          & 0.4949 & 0.5914 & 0.5149 & 0.5377 & 0.5719 & 0.5429 \\
        TF\_IDF      & 0.5011 & 0.5984 & 0.5222 & 0.5464 & 0.5820 & 0.5464 \\
        \bottomrule
    \end{tabular}
\end{table}

% \begin{table}[h!]
%     \centering
%     \caption{5-fold cross-validation of the passage scores across.}
%     \begin{tabular}{lcccccc}
%         \toprule
%         \textbf{Retrieval Model} & \multicolumn{3}{c}{\textbf{Default}} & \multicolumn{3}{c}{\textbf{Greedy}} \\
%         \cmidrule(lr){2-4} \cmidrule(lr){5-7}
%                                 & $\tau$ & $\rho$ & $r$ & $\tau$ & $\rho$ & $r$ \\
%         \midrule

%         \multicolumn{7}{c}{\textbf{Args.me Touché 2020}} \\
%         BM25         & v & v & v & v & v & v \\
%         DFR\_BM25    & v & v & v & v & v & v \\
%         DFIZ         & v & v & v & v & v & v \\
%         DLH          & v & v & v & v & v & v \\
%         DHP          & v & v & v & v & v & v \\
%         DirichletLM  & v & v & v & v & v & v \\
%         Hiemstra\_LM & v & v & v & v & v & v \\
%         LGD          & v & v & v & v & v & v \\
%         PL2          & v & v & v & v & v & v \\
%         TF\_IDF      & v & v & v & v & v & v \\
%         \midrule

%         \multicolumn{7}{c}{\textbf{Disks4+5 TREC-7}} \\
%         BM25         & v & v & v & v & v & v \\
%         DFR\_BM25    & v & v & v & v & v & v \\
%         DFIZ         & v & v & v & v & v & v \\
%         DLH          & v & v & v & v & v & v \\
%         DHP          & v & v & v & v & v & v \\
%         DirichletLM  & v & v & v & v & v & v \\
%         Hiemstra\_LM & v & v & v & v & v & v \\
%         LGD          & v & v & v & v & v & v \\
%         PL2          & v & v & v & v & v & v \\
%         TF\_IDF      & v & v & v & v & v & v \\
%         \midrule

%         \multicolumn{7}{c}{\textbf{Disks4+5 TREC-8}} \\
%         BM25         & v & v & v & v & v & v \\
%         DFR\_BM25    & v & v & v & v & v & v \\
%         DFIZ         & v & v & v & v & v & v \\
%         DLH          & v & v & v & v & v & v \\
%         DHP          & v & v & v & v & v & v \\
%         DirichletLM  & v & v & v & v & v & v \\
%         Hiemstra\_LM & v & v & v & v & v & v \\
%         LGD          & v & v & v & v & v & v \\
%         PL2          & v & v & v & v & v & v \\
%         TF\_IDF      & v & v & v & v & v & v \\
%         \midrule

%         \multicolumn{7}{c}{\textbf{Disks4+5 Robust04}} \\
%         BM25         & v & v & v & v & v & v \\
%         DFR\_BM25    & v & v & v & v & v & v \\
%         DFIZ         & v & v & v & v & v & v \\
%         DLH          & v & v & v & v & v & v \\
%         DHP          & v & v & v & v & v & v \\
%         DirichletLM  & v & v & v & v & v & v \\
%         Hiemstra\_LM & v & v & v & v & v & v \\
%         LGD          & v & v & v & v & v & v \\
%         PL2          & v & v & v & v & v & v \\
%         TF\_IDF      & v & v & v & v & v & v \\
%         \midrule

%         \multicolumn{7}{c}{\textbf{MS MARCO TREC-19 DL}} \\
%         BM25         & v & v & v & v & v & v \\
%         DFR\_BM25    & v & v & v & v & v & v \\
%         DFIZ         & v & v & v & v & v & v \\
%         DLH          & v & v & v & v & v & v \\
%         DHP          & v & v & v & v & v & v \\
%         DirichletLM  & v & v & v & v & v & v \\
%         Hiemstra\_LM & v & v & v & v & v & v \\
%         LGD          & v & v & v & v & v & v \\
%         PL2          & v & v & v & v & v & v \\
%         TF\_IDF      & v & v & v & v & v & v \\
%         \midrule

%         \multicolumn{7}{c}{\textbf{MS MARCO TREC-20 DL}} \\
%         BM25         & v & v & v & v & v & v \\
%         DFR\_BM25    & v & v & v & v & v & v \\
%         DFIZ         & v & v & v & v & v & v \\
%         DLH          & v & v & v & v & v & v \\
%         DHP          & v & v & v & v & v & v \\
%         DirichletLM  & v & v & v & v & v & v \\
%         Hiemstra\_LM & v & v & v & v & v & v \\
%         LGD          & v & v & v & v & v & v \\
%         PL2          & v & v & v & v & v & v \\
%         TF\_IDF      & v & v & v & v & v & v \\
%         \midrule

%         \bottomrule
%     \end{tabular}
% \end{table}

\pagebreak
\begin{longtable}{lcccccc}
    \caption{5-fold cross-validation of the passage scores across datasets.} \\
    \toprule
    \textbf{Retrieval Model} & \multicolumn{3}{c}{\textbf{Default}} & \multicolumn{3}{c}{\textbf{Greedy}} \\
    \cmidrule(lr){2-4} \cmidrule(lr){5-7}
                            & $\tau$ & $\rho$ & $r$ & $\tau$ & $\rho$ & $r$ \\
    \midrule

    \multicolumn{7}{c}{\textbf{Args.me Touché 2020}} \\
    BM25         & v & v & v & v & v & v \\
    DFR\_BM25    & v & v & v & v & v & v \\
    DFIZ         & v & v & v & v & v & v \\
    DLH          & v & v & v & v & v & v \\
    DHP          & v & v & v & v & v & v \\
    DirichletLM  & v & v & v & v & v & v \\
    Hiemstra\_LM & v & v & v & v & v & v \\
    LGD          & v & v & v & v & v & v \\
    PL2          & v & v & v & v & v & v \\
    TF\_IDF      & v & v & v & v & v & v \\
    \midrule

    \multicolumn{7}{c}{\textbf{Disks4+5 TREC-7}} \\
    BM25         & v & v & v & v & v & v \\
    DFR\_BM25    & v & v & v & v & v & v \\
    DFIZ         & v & v & v & v & v & v \\
    DLH          & v & v & v & v & v & v \\
    DHP          & v & v & v & v & v & v \\
    DirichletLM  & v & v & v & v & v & v \\
    Hiemstra\_LM & v & v & v & v & v & v \\
    LGD          & v & v & v & v & v & v \\
    PL2          & v & v & v & v & v & v \\
    TF\_IDF      & v & v & v & v & v & v \\
    \midrule

    \multicolumn{7}{c}{\textbf{Disks4+5 TREC-8}} \\
    BM25         & v & v & v & v & v & v \\
    DFR\_BM25    & v & v & v & v & v & v \\
    DFIZ         & v & v & v & v & v & v \\
    DLH          & v & v & v & v & v & v \\
    DHP          & v & v & v & v & v & v \\
    DirichletLM  & v & v & v & v & v & v \\
    Hiemstra\_LM & v & v & v & v & v & v \\
    LGD          & v & v & v & v & v & v \\
    PL2          & v & v & v & v & v & v \\
    TF\_IDF      & v & v & v & v & v & v \\
    \midrule

    \pagebreak
    \midrule
    \multicolumn{7}{c}{\textbf{Disks4+5 Robust04}} \\
    BM25         & v & v & v & v & v & v \\
    DFR\_BM25    & v & v & v & v & v & v \\
    DFIZ         & v & v & v & v & v & v \\
    DLH          & v & v & v & v & v & v \\
    DHP          & v & v & v & v & v & v \\
    DirichletLM  & v & v & v & v & v & v \\
    Hiemstra\_LM & v & v & v & v & v & v \\
    LGD          & v & v & v & v & v & v \\
    PL2          & v & v & v & v & v & v \\
    TF\_IDF      & v & v & v & v & v & v \\
    \midrule

    \multicolumn{7}{c}{\textbf{MS MARCO TREC-19 DL}} \\
    BM25         & v & v & v & v & v & v \\
    DFR\_BM25    & v & v & v & v & v & v \\
    DFIZ         & v & v & v & v & v & v \\
    DLH          & v & v & v & v & v & v \\
    DHP          & v & v & v & v & v & v \\
    DirichletLM  & v & v & v & v & v & v \\
    Hiemstra\_LM & v & v & v & v & v & v \\
    LGD          & v & v & v & v & v & v \\
    PL2          & v & v & v & v & v & v \\
    TF\_IDF      & v & v & v & v & v & v \\
    \midrule

    \multicolumn{7}{c}{\textbf{MS MARCO TREC-20 DL}} \\
    BM25         & v & v & v & v & v & v \\
    DFR\_BM25    & v & v & v & v & v & v \\
    DFIZ         & v & v & v & v & v & v \\
    DLH          & v & v & v & v & v & v \\
    DHP          & v & v & v & v & v & v \\
    DirichletLM  & v & v & v & v & v & v \\
    Hiemstra\_LM & v & v & v & v & v & v \\
    LGD          & v & v & v & v & v & v \\
    PL2          & v & v & v & v & v & v \\
    TF\_IDF      & v & v & v & v & v & v \\
    \midrule

    \bottomrule
\end{longtable}

% ===================
% Candidate Selection
% ===================
\section{Candidate Selection}\label{eval-candidate-selection}

\begin{table}[h!]
    \centering
    \footnotesize
    \caption{Results for different strategies of candidate selection.}
    \begin{tabular}{lccccccccc}
        \toprule
        \textbf{Dataset} & \multicolumn{3}{c}{\textbf{Naive}} & \multicolumn{3}{c}{\textbf{Nearest Neighbor}} & \multicolumn{3}{c}{\textbf{Union}} \\
        % \textbf{Dataset} & \multicolumn{3}{c}{\textbf{Naive}} & \multicolumn{3}{c}{\textbf{NN}} & \multicolumn{3}{c}{\textbf{Union}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7} \cmidrule(lr){8-10}
                         & \rotatebox{90}{Precision} & \rotatebox{90}{Recall} & \rotatebox{90}{Documents} & \rotatebox{90}{Precision} & \rotatebox{90}{Recall} & \rotatebox{90}{Documents} & \rotatebox{90}{Precision} & \rotatebox{90}{Recall} & \rotatebox{90}{Documents} \\
        \midrule

        % argsme/2020-04-01/touche-2021-task-1 & 0.0175 & 0.9586 & 100,000 & 0.0559 & 1.0000 & 38,807 & 0.0146 & 1.0000 & 123582 \\
        Args.me Touché 2020 & v & v & v & v & v & v & v & v & v \\
        Disks4+5 TREC-7     & v & v & v & v & v & v & v & v & v \\
        Disks4+5 TREC-8     & v & v & v & v & v & v & v & v & v \\
        Disks4+5 Robust04   & v & v & v & v & v & v & v & v & v \\
        MS MARCO TREC-19 DL & v & v & v & v & v & v & v & v & v \\
        MS MARCO TREC-20 DL & v & v & v & v & v & v & v & v & v \\

        \bottomrule 
    \end{tabular}
\end{table}


\begin{table}[h!]
    \centering
    \footnotesize
    \caption{\texttt{Precision} and \texttt{Recall} for the retrieved candidates from the target corpus, along with the total number of candidates. The retrieval process allows multiple passages from the same document in the source dataset.}
    \begin{tabular}{rrcccccc}
        \toprule

        \multicolumn{2}{c}{\textbf{Approach}} & \rotatebox{80}{Args.me Touché 2020} & \rotatebox{80}{Disks4+5 TREC-7} & \rotatebox{80}{Disks4+5 TREC-8} & \rotatebox{80}{Disks4+5 Robust04} & \rotatebox{80}{MS MARCO TREC-19 DL} & \rotatebox{80}{MS MARCO TREC-20 DL} \\
        \midrule

        \multirow{3}{*}{\textbf{Naive}} & Precision & 0.012 & v & v & v & v & v \\
                                        & Recall    & 0.912 & v & v & v & v & v \\
                                        & Documents & 76284 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{NN 10}} & Precision & 0.109 & v & v & v & v & v \\
                                        & Recall    & 0.599 & v & v & v & v & v \\
                                        & Documents & 5106 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{NN 50}} & Precision & 0.060 & v & v & v & v & v \\
                                        & Recall    & 0.795 & v & v & v & v & v \\
                                        & Documents & 13809 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{NN 100}} & Precision & 0.059 & v & v & v & v & v \\
                                         & Recall    & 0.852 & v & v & v & v & v \\
                                         & Documents & 16469 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{Union 10}} & Precision & 0.012 & v & v & v & v & v \\
                                           & Recall    & 0.932 & v & v & v & v & v \\
                                           & Documents & 77509 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{Union 50}} & Precision & 0.011 & v & v & v & v & v \\
                                           & Recall    & 0.964 & v & v & v & v & v \\
                                           & Documents & 81753 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{Union 100}} & Precision & 0.011 & v & v & v & v & v \\
                                            & Recall    & 0.982 & v & v & v & v & v \\
                                            & Documents & 83473 & v & v & v & v & v \\

        \bottomrule 
    \end{tabular}
\end{table}

\begin{table}[h!]
    \centering
    \footnotesize
    \caption{\texttt{Precision} and \texttt{Recall} for the retrieved candidates from the target corpus, along with the total number of candidates. The retrieval process limits the source dataset to a maximum of one passage per document.}
    \begin{tabular}{rrcccccc}
        \toprule

        \multicolumn{2}{c}{\textbf{Approach}} & \rotatebox{80}{Args.me Touché 2020} & \rotatebox{80}{Disks4+5 TREC-7} & \rotatebox{80}{Disks4+5 TREC-8} & \rotatebox{80}{Disks4+5 Robust04} & \rotatebox{80}{MS MARCO TREC-19 DL} & \rotatebox{80}{MS MARCO TREC-20 DL} \\
        \midrule

        \multirow{3}{*}{\textbf{Naive\textsuperscript{*}}} & Precision & 0.012 & v & v & v & v & v \\
                                                           & Recall    & 0.912 & v & v & v & v & v \\
                                                           & Documents & 76284 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{NN 10\textsuperscript{*}}} & Precision & 0.121 & v & v & v & v & v \\
                                                           & Recall    & 0.707 & v & v & v & v & v \\
                                                           & Documents & 5287 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{NN 50\textsuperscript{*}}} & Precision & 0.111 & v & v & v & v & v \\
                                                           & Recall    & 0.816 & v & v & v & v & v \\
                                                           & Documents & 7262 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{NN 100\textsuperscript{*}}} & Precision & 0.111 & v & v & v & v & v \\
                                                            & Recall    & 0.816 & v & v & v & v & v \\
                                                            & Documents & 7262 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{Union 10\textsuperscript{*}}} & Precision & 0.012 & v & v & v & v & v \\
                                                              & Recall    & 0.949 & v & v & v & v & v \\
                                                              & Documents & 77401 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{Union 50\textsuperscript{*}}} & Precision & 0.012 & v & v & v & v & v \\
                                                              & Recall    & 0.982 & v & v & v & v & v \\
                                                              & Documents & 78136 & v & v & v & v & v \\
        \midrule

        \multirow{3}{*}{\textbf{Union 100\textsuperscript{*}}} & Precision & 0.012 & v & v & v & v & v \\
                                                               & Recall    & 0.982 & v & v & v & v & v \\
                                                               & Documents & 78136 & v & v & v & v & v \\

        \bottomrule 
    \end{tabular}
\end{table}

\begin{sidewaystable}
    \centering
    \footnotesize
    \caption{Results for different strategies of candidate selection.}
    \begin{tabular}{lccccccccc}
        \toprule
        \textbf{Dataset} & \multicolumn{3}{c}{\textbf{Naive}} & \multicolumn{3}{c}{\textbf{Nearest Neighbor}} & \multicolumn{3}{c}{\textbf{Union}} \\
        % \textbf{Dataset} & \multicolumn{3}{c}{\textbf{Naive}} & \multicolumn{3}{c}{\textbf{NN}} & \multicolumn{3}{c}{\textbf{Union}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7} \cmidrule(lr){8-10}
                         & Precision & Recall & Documents & Precision & Recall & Documents & Precision & Recall & Documents \\
                         % & P & R & D & P & R & D & P & R & D \\
        \midrule

        % argsme/2020-04-01/touche-2021-task-1 & 0.0175 & 0.9586 & 100,000 & 0.0559 & 1.0000 & 38,807 & 0.0146 & 1.0000 & 123582 \\
        Args.me Touché 2020 & v & v & v & v & v & v & v & v & v \\
        Disks4+5 TREC-7     & v & v & v & v & v & v & v & v & v \\
        Disks4+5 TREC-7     & v & v & v & v & v & v & v & v & v \\
        Disks4+5 Robust04   & v & v & v & v & v & v & v & v & v \\
        MS MARCO TREC-19 DL & v & v & v & v & v & v & v & v & v \\
        MS MARCO TREC-20 DL & v & v & v & v & v & v & v & v & v \\

        \bottomrule 
    \end{tabular}
\end{sidewaystable}

% ====================
% Pairwise Preferences
% ====================
\section{Pairwise Preferences}\label{eval-pairwise-preferences}

The first evaluation of the pairwise preferences involves inferring relevance scores from the original relevance assessments within the source dataset itself. This allows for an automatic evaluation using rank correlation, as the retrieval tasks provide predefined relevance judgments for comparison. Each dataset can be evaluated individually to verify whether the inferred scores align with the original relevance assessments. The second evaluation assesses the transfer of inferred relevance scores from the retrieval tasks to the target corpus, \texttt{ClueWeb22/b}. Since no existing relevance judgments are available for \texttt{ClueWeb22/b}, this evaluation cannot be automated. Instead, randomly selected documents for which relevance scores have been inferred are chosen for each query and manually reviewed. Human assessors then determine whether the inferred relevance scores accurately reflect the relevance of the corresponding documents to the queries.

\begin{table}[h!]
    \centering
    \caption{5-fold cross-validation of the inferred relevance assessments for the source datasets to themselves.}
    \begin{tabular}{lcccccc}
        \toprule
        \textbf{Retrieval Model} & \multicolumn{3}{c}{\textbf{Default}} & \multicolumn{3}{c}{\textbf{Greedy}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7}
                                 & $\tau$ & $\rho$ & $r$ & $\tau$ & $\rho$ & $r$ \\
        \midrule

        Args.me Touché 2020 & v & v & v & v & v & v \\
        Disks4+5 TREC-7     & v & v & v & v & v & v \\
        Disks4+5 TREC-8     & v & v & v & v & v & v \\
        Disks4+5 Robust04   & v & v & v & v & v & v \\
        MS MARCO TREC-19 DL & v & v & v & v & v & v \\
        MS MARCO TREC-19 DL & v & v & v & v & v & v \\
        
        \bottomrule
    \end{tabular}
\end{table}

% Transfer Pipeline to Source Corpus itself
\subsection{Transfer Pipeline to Source Corpus itself}\label{eval-pairwise-preferences-source}

% Transfer Pipeline to ClueWeb22/b
\subsection{Transfer Pipeline to \texttt{ClueWeb22/b}}\label{eval-pairwise-preferences-target}