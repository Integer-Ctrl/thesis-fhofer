\chapter{Evaluation}\label{evaluation}

This chapter focuses on the evaluation of the transfer pipeline. First, the evaluation methods used are introduced. Rank correlation is employed to compare the original relevance assessments with the relevance scores inferred during the pipeline process. Next, the individual steps of the pipeline are analyzed and evaluated to examine intermediate results and identify potential weaknesses. At the end, the final phase of the transfer pipeline is assessed by evaluating the original relevance assessments of the retrieval tasks with the inferred relevance scores produced by the pipeline.

% ================
% Rank Correlation
% ================
\section{Rank Correlation}\label{rank-correlation}

% Unit testing of correlation coefficients
\subsection{Greedy Rank Correlation}\label{greedy-rank-correlation}

\begin{table}[t]
    \centering
    \caption{
        Unit testing correlation methods for reference scores $[0.2, 0.7, 0.5]$ and three label sets: first two with expected correlation of 1, and last one with lower correlation. Methods include Spearman's $\rho$, Kendall's $\tau$, and Pearson's $r$.
    }
    \begin{tabular}{ccccccc}
        \toprule
        \textbf{Comparative Set} & \multicolumn{3}{c}{\textbf{Default}} & \multicolumn{3}{c}{\textbf{Greedy}} \\
        \cmidrule(lr){2-4} \cmidrule(lr){5-7}
                                 & $\tau$ & $\rho$ & $r$ & $\tau$ & $\rho$ & $r$ \\
        \midrule
        
        $[0, 2, 1]$ & 1.00 & 0.99 & 1.00 & 1.00  & 1.00  & 1.00 \\
        $[0, 1, 1]$ & 0.82 & 0.92 & 0.87 & 1.00  & 1.00  & 1.00 \\
        $[0, 0, 1]$ & 0.00 & 0.11 & 0.00 & 0.50  & 0.50  & 0.50 \\
        \bottomrule
    \end{tabular}
\end{table}

% ==================
% Document Selection
% ==================
\section{Document Selection}\label{eval-doucment-selection}

% ===============
% Passage Scoring
% ===============
\section{Passage Scoring}\label{eval-passage-scoring}

Since this study does not aim to optimize or analyze a specific set of retriever systems but uses them for passage scoring, a diverse selection of models was employed to minimize bias in the scores that could arise from relying on a single model. For that reason \texttt{Precision} and \texttt{nDCG} scores were calculated using the following retriever systems: \texttt{BM25, DFR\_BM25, DFIZ, DLH, DPH, DirichletLM, Hiemstra\_LM, LGD, PL2, and TF\_IDF}. An evaluation of which model best scores the passages in relation to the goal of relevance transfer follows in Chapter~\ref{evaluation}~[\nameref{rank-correlation-passage-scores}].

\begin{table}[t]
    \centering
    \caption{Correlations of the assigned passage scores to the original document judgments reported in terms of Kendall's $\tau$ and Spearman's $\rho$.}
    \resizebox{\textwidth}{!}{%
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{lcccccccccccccc}
        \toprule
        \textbf{Retrieval Model} & \multicolumn{2}{c}{\textbf{Touché 20}} & \multicolumn{2}{c}{\textbf{Robust04}} & \multicolumn{2}{c}{\textbf{TREC-7}} & \multicolumn{2}{c}{\textbf{TREC-8}} & \multicolumn{2}{c}{\textbf{TREC-19 DL}} & \multicolumn{2}{c}{\textbf{TREC-20 DL}} & & \\
        \cmidrule(lr){2-3} \cmidrule(lr){4-5} \cmidrule(lr){6-7} \cmidrule(lr){8-9} \cmidrule(lr){10-11} \cmidrule(lr){12-13}
                                 & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\overline{\tau}$ & $\overline{\rho}$ \\
        \midrule

        BM25         & 0.809          & 0.882          & 0.835          & 0.907          & 0.834          & 0.904          & 0.823          & 0.906          & 0.741          & 0.867          & 0.751          & 0.860 & 0.000 & 0.000 \\
        DFR\_BM25    & 0.808          & 0.877          & 0.835          & 0.907          & 0.835          & 0.905          & 0.822          & 0.905          & 0.739          & 0.867          & 0.784          & 0.872 & 0.000 & 0.000 \\
        DFIZ         & 0.769          & 0.848          & 0.832          & 0.905          & 0.826          & 0.895          & 0.825          & 0.897          & 0.760          & 0.863          & 0.757          & 0.872 & 0.000 & 0.000 \\
        DLH          & \textbf{0.832} & \textbf{0.909} & 0.832          & \textbf{0.912} & 0.828          & 0.905          & 0.816          & \textbf{0.908} & 0.729          & 0.843          & 0.801          & 0.884 & 0.000 & 0.000 \\
        DPH          & 0.787          & 0.863          & 0.837          & 0.903          & \textbf{0.839} & \textbf{0.910} & 0.828          & 0.904          & 0.714          & 0.852          & 0.752          & 0.847 & 0.000 & 0.000 \\
        DirichletLM  & 0.707          & 0.786          & 0.836          & 0.899          & 0.829          & 0.901          & 0.828          & 0.896          & 0.733          & 0.869          & \textbf{0.818} & \textbf{0.898} & 0.000 & 0.000 \\
        Hiemstra\_LM & 0.830          & 0.901          & 0.838          & \textbf{0.912} & 0.833          & 0.900          & 0.823          & \textbf{0.908} & \textbf{0.773} & \textbf{0.874} & 0.790          & 0.877 & 0.000 & 0.000 \\
        LGD          & 0.806          & 0.884          & \textbf{0.840} & 0.908          & 0.838          & \textbf{0.910} & \textbf{0.830} & 0.900          & 0.758          & 0.864          & 0.788          & 0.879 & 0.000 & 0.000 \\
        PL2          & 0.811          & 0.881          & 0.828          & 0.908          & 0.824          & 0.901          & 0.815          & 0.906          & 0.730          & 0.841          & 0.778          & 0.868 & 0.000 & 0.000 \\
        TF\_IDF      & 0.812          & 0.885          & 0.835          & 0.907          & 0.835          & 0.905          & 0.824          & 0.906          & 0.764          & 0.867          & 0.773          & 0.853 & 0.000 & 0.000 \\

        \bottomrule
    \end{tabular}}
    \renewcommand{\arraystretch}{1.0}
\end{table}

% ===================
% Candidate Selection
% ===================
\section{Candidate Selection}\label{eval-candidate-selection}

\begin{table}[t]
    \centering
    \footnotesize
    \caption{\texttt{Recall} for the retrieved candidates from the target corpus, along with the total number of candidates. The retrieval process allows multiple passages from the same document in the source dataset.}
    \resizebox{\textwidth}{!}{%
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{ccccccccccccccc}
        \toprule

        \multicolumn{3}{c}{\textbf{Approach}} & \multicolumn{2}{c}{\textbf{Touché 20}} & \multicolumn{2}{c}{\textbf{Robust04}} & \multicolumn{2}{c}{\textbf{TREC-7}} & \multicolumn{2}{c}{\textbf{TREC-8}} & \multicolumn{2}{c}{\textbf{TREC-19 DL}} & \multicolumn{2}{c}{\textbf{TREC-20 DL}} \\

        \cmidrule(lr){4-5} \cmidrule(lr){6-7} \cmidrule(lr){8-9} \cmidrule(lr){10-11} \cmidrule(lr){12-13} \cmidrule(lr){14-15}
                                          & & & REC & \#DOC & REC & \#DOC & REC & \#DOC & REC & \#DOC & REC & \#DOC & REC & \#DOC \\
        \midrule
        \multirow{2}{*}{\rotatebox{90}{\textbf{Naive}}} & def. & & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
        \cmidrule(lr){2-15}
                                                        & opd & & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
        \midrule
        \multirow{6}{*}{\rotatebox{90}{\textbf{Nearest Neighbor}}} & \multirow{3}{*}{def.} &  10 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                                        &  &  50 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                                        &  & 100 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
       \cmidrule(lr){2-15}
                                                                   & \multirow{3}{*}{opd}  &  10 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                                        &  &  50 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                                        &  & 100 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
        \midrule
        \multirow{6}{*}{\rotatebox{90}{\textbf{Union}}} & \multirow{3}{*}{def.} &  10 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                             &  &  50 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                             &  & 100 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
        \cmidrule(lr){2-15}
                                                        & \multirow{3}{*}{opd}  &  10 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                             &  &  50 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\
                                                                             &  & 100 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 & 0.000 & 0 \\

        \bottomrule 
    \end{tabular}}
    \renewcommand{\arraystretch}{1.0}
\end{table}


% ====================
% Pairwise Preferences
% ====================
\section{Pairwise Preferences}\label{eval-pairwise-preferences}

The first evaluation of the pairwise preferences involves inferring relevance scores from the original relevance assessments within the source dataset itself. This allows for an automatic evaluation using rank correlation, as the retrieval tasks provide predefined relevance judgments for comparison. Each dataset can be evaluated individually to verify whether the inferred scores align with the original relevance assessments. The second evaluation assesses the transfer of inferred relevance scores from the retrieval tasks to the target corpus, \texttt{ClueWeb22/b}. Since no existing relevance judgments are available for \texttt{ClueWeb22/b}, this evaluation cannot be automated. Instead, randomly selected documents for which relevance scores have been inferred are chosen for each query and manually reviewed. Human assessors then determine whether the inferred relevance scores accurately reflect the relevance of the corresponding documents to the queries.

\begin{table}[t]
    \centering
    \footnotesize
    \caption{Correlations of the inferred relevance judgements to the original document judgments reported in terms of Kendall's $\tau$ and Spearman's $\rho$.}
    \resizebox{\textwidth}{!}{%
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{cclccccccccccccc}
        \toprule

        \multicolumn{3}{c}{\textbf{Approach}} & \multicolumn{2}{c}{\textbf{Touché 20}} & \multicolumn{2}{c}{\textbf{Robust04}} & \multicolumn{2}{c}{\textbf{TREC-7}} & \multicolumn{2}{c}{\textbf{TREC-8}} & \multicolumn{2}{c}{\textbf{TREC-19 DL}} & \multicolumn{2}{c}{\textbf{TREC-20 DL}} \\
        \cmidrule(lr){4-5} \cmidrule(lr){6-7} \cmidrule(lr){8-9} \cmidrule(lr){10-11} \cmidrule(lr){12-13} \cmidrule(lr){14-15}
                            & & & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ & $\tau$ & $\rho$ \\
        \midrule
        \multirow{16}{*}{\rotatebox{90}{\textbf{Pairwise Preferences with flant5-base}}}
            & \multirow{4}{*}{\textbf{mean}} 
              & \textbf{id}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{log}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{exp}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{sqrt} & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
        \cmidrule{2-15}
            & \multirow{4}{*}{\textbf{min}} 
              & \textbf{id}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{log}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{exp}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{sqrt} & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
        \cmidrule{2-15}
            & \multirow{4}{*}{\textbf{max}} 
              & \textbf{id}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{log}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{exp}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{sqrt} & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
        \cmidrule{2-15}
            & \multirow{4}{*}{\textbf{sum}} 
              & \textbf{id}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{log}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{exp}  & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & & \textbf{sqrt} & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
        \midrule
        \multirow{4}{*}{\rotatebox{90}{\makecell{\textbf{Pointwise} \\ \textbf{Preferences}}}}
            & \multicolumn{2}{c}{\textbf{flant5-base}}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & \multicolumn{2}{c}{\textbf{flant5-small}}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & \multicolumn{2}{c}{\textbf{t5-base}}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\
            & \multicolumn{2}{c}{\textbf{t5-small}}   & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 & 0.000 \\

        \bottomrule 
    \end{tabular}}
    \renewcommand{\arraystretch}{1.0}
\end{table}

% Transfer Pipeline to Source Corpus itself
\subsection{Transfer Pipeline to Source Corpus itself}\label{eval-pairwise-preferences-source}

% Transfer Pipeline to ClueWeb22/b
\subsection{Transfer Pipeline to \texttt{ClueWeb22/b}}\label{eval-pairwise-preferences-target}